{"version":3,"sources":["/home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/category/category-routing.module.ts","/home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/category/category.component.html","/home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/category/category.component.scss","/home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/category/category.component.ts","/home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/category/category.module.ts"],"names":[],"mappings":"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","file":"13.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CategoryComponent } from './category.component';\n\nconst routes: Routes = [\n    { path: '', component: CategoryComponent }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class CategoryRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/category/category-routing.module.ts","module.exports = \"<div [@routerTransition]>\\n    <app-page-header [heading]=\\\"'Categorias'\\\" [icon]=\\\"'fa-edit'\\\"></app-page-header>\\n</div>\\n    \\n<form [formGroup]=\\\"updateForm\\\">\\n\\t<div class=\\\"row\\\" formArrayName=\\\"allCategories\\\">\\n\\t    \\n\\t    <div class=\\\"col col-xl-6 col-lg-6\\\">\\n\\t    \\t<div class=\\\"card mb-3\\\">\\n\\t            <div class=\\\"card-header\\\">\\n\\t                Lista de Categorias\\n\\t                <button style=\\\"float: right;\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"update()\\\" >{{ 'update' | translate }}</button>\\n\\t            </div>\\n\\t            <div class=\\\"card-block table-responsive\\\">\\n\\t                <table class=\\\"table table-hover\\\">\\n\\t                    <thead>\\n\\t                    <tr>\\n\\t                        <th>#</th>\\n\\t                        <th>Categoria</th>\\n\\t                    </tr>\\n\\t                    </thead>\\n\\t                    <tbody>\\n\\t                        <tr *ngFor=\\\"let cat of categories; let i = index\\\">\\n\\t                        \\t<td formGroupName=\\\"{{i}}\\\">\\n\\t                        \\t\\t<input type=\\\"checkbox\\\" formControlName=\\\"{{cat.id}}\\\" />\\n\\t                            </td>\\n\\t                            <td>{{cat.name}}</td>\\n\\t                        </tr>\\n\\t                    </tbody>\\n\\t                </table>\\n\\t            </div>\\n\\t    \\t</div>\\n\\t    </div>\\n\\t    <div class=\\\"col col-xl-2 col-lg-2\\\">\\n\\t    \\t<!-- <pre>{{updateForm.value | json}}</pre> -->\\n\\t    </div>\\n\\t</div>\\n</form>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/category/category.component.html\n// module id = ../../../../../src/app/layout/category/category.component.html\n// module chunks = 13","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/category/category.component.scss\n// module id = ../../../../../src/app/layout/category/category.component.scss\n// module chunks = 13","import {\n\tComponent,\n\tOnInit\n} from '@angular/core';\n\nimport {\n\trouterTransition\n} from '../../router.animations';\n\nimport {\n\tFormArray,\n\tFormBuilder,\n\tFormControl,\n\tFormGroup\n} from \"@angular/forms\";\n\nimport {\n\tRestaurantService\n} from '../../shared/services/restaurant.service';\n\nimport {\n\tToastrService\n} from 'ngx-toastr';\n\nimport { CategoryService } from '../../shared/services/category.service';\n\n@Component({\n\tselector: 'app-category',\n\ttemplateUrl: './category.component.html',\n\tstyleUrls: ['./category.component.scss'],\n\tanimations: [routerTransition()]\n})\nexport class CategoryComponent implements OnInit {\n\n\tcategories: any;\n\tupdateForm: FormGroup;\n\trestaurant: any;\n\tconstructor(public categoryService: CategoryService,\n\t\tprivate restaurantService: RestaurantService,\n\t\tprivate toastr: ToastrService,\n\t\tprivate formBuilder: FormBuilder) {\n\t\t\n\t\tthis.restaurant = this.restaurantService.getAll();\n\t\t// Caso nÃ£o esteja populado os dados do restaurante busca no banco de dados\n\t\tif(!this.restaurant || !this.restaurant.id){\n\t\t\tthis.restaurantService.populate().subscribe(result => {\n\t\t\t\tthis.restaurant = result.data;\n\t\t\t\tthis.categoryService.getOnlyCategory().subscribe(result => {\n\t\t\t\t\tthis.categories = result.data;\n\t\t\t\t\tthis.initForm(this.restaurant)\n\t\t\t\t});\n\t\t\t});\n\t\t}else{\n\t\t\t// Busca todas as categorias cadastradas pelo administrador\n\t\t\tthis.categoryService.getOnlyCategory().subscribe(result => {\n\t\t\t\tthis.categories = result.data;\n\t\t\t\tthis.initForm(this.restaurant);\n\t\t\t});\n\t\t}\n\t    \n\t}\n\n\tngOnInit() {\n\t\tthis.updateForm = this.formBuilder.group({\n\t\t\t'allCategories': []\n\t\t});\n\t}\n\n\tinitForm(restaurant) {\n\t\tlet allCategories: FormArray = new FormArray([]);\n\n\t\tfor (let i = 0; i < this.categories.length; i++) {\n\t\t\tlet fg = new FormGroup({});\n\t\t\tlet status = this.getRestaurantCategories(this.categories[i].id, restaurant);\n\t\t\tfg.addControl(this.categories[i].id, new FormControl(status))\n\t\t\tallCategories.push(fg)\n\t\t}\n\n\t\tthis.updateForm = this.formBuilder.group({\n\t\t\t'allCategories': allCategories\n\t\t})\n\t}\n\n\tgetRestaurantCategories(id, restaurant) {\n\t\tlet restaurantCategories = JSON.parse(restaurant.category_ids);\n\t\tfor (var k in restaurantCategories) {\n\t\t\tlet cat = restaurantCategories[k];\n\n\t\t\tif (cat === id) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tupdate() {\n\t\tlet allCategories = this.updateForm.value.allCategories;\n\t\tlet categories = [];\n\t\tfor(let i=0; i < allCategories.length; i++){\n\t\t\tlet cat = allCategories[i]\n\t\t\tlet value = this.categories[i].id;\n\t\t\tif(cat[value]){\n\t\t\t\tcategories.push(value);\n\t\t\t}\n\t\t}\n\t\tlet json = {\n\t\t\tid: this.restaurant.id,\n\t\t\tcategory_ids: categories\n\t\t}\n\t\tthis.categoryService.updateCategories(json).subscribe(result => {\n\t\t\tif (result.status) {\n\t\t\t\tthis.toastr.success(result.message, '');\n\n\t\t\t\t//Seta a categorias selecionada pelo usuÃ¡rio\n\t\t\t\tthis.restaurantService.setCategories(JSON.stringify(categories));\n\t\t\t\t//Busca novamente as categorias do restaurante\n\t\t\t\tthis.categoryService.initCategories();\n\t\t\t} else {\n\t\t\t\tthis.toastr.warning(result.message, '');\n\t\t\t}\n\t\t})\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/category/category.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CategoryComponent } from './category.component';\nimport { CategoryRoutingModule } from './category-routing.module';\nimport { PageHeaderModule } from './../../shared';\nimport { ToastrModule } from 'ngx-toastr';\n\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from './../../shared/shared.module';\n import { TranslateModule } from '@ngx-translate/core';\n@NgModule({\n    imports: [\n        CommonModule,\n        CategoryRoutingModule,\n        PageHeaderModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ToastrModule.forRoot(),\n        SharedModule,\n        TranslateModule,\n    ],\n    declarations: [CategoryComponent]\n})\nexport class CategoryModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/category/category.module.ts"],"sourceRoot":"webpack:///"}