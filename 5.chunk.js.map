{"version":3,"sources":["/home/victor/Food/Meu Projeto/saciafome-restaurante/src/app/layout/promotion/promotion-routing.module.ts","/home/victor/Food/Meu Projeto/saciafome-restaurante/src/app/layout/promotion/promotion.component.html","/home/victor/Food/Meu Projeto/saciafome-restaurante/src/app/layout/promotion/promotion.component.scss","/home/victor/Food/Meu Projeto/saciafome-restaurante/src/app/layout/promotion/promotion.component.ts","/home/victor/Food/Meu Projeto/saciafome-restaurante/src/app/layout/promotion/promotion.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAyC;AACc;AACI;AAE3D,IAAM,MAAM,GAAW;IACnB,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,gFAAkB,EAAE;CAC9C,CAAC;AAMF,IAAa,sBAAsB;IAAnC;IAAsC,CAAC;IAAD,6BAAC;AAAD,CAAC;AAA1B,sBAAsB;IAJlC,8EAAQ,CAAC;QACN,OAAO,EAAE,CAAC,qEAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,qEAAY,CAAC;KAC1B,CAAC;GACW,sBAAsB,CAAI;AAAJ;;;;;;;;ACZnC,saAAsa,UAAU,iGAAiG,WAAW,mDAAmD,6BAA6B,0IAA0I,kCAAkC,iJAAiJ,wBAAwB,uD;;;;;;;ACAj8B;AACA;;;AAGA;AACA,sCAAuC,iBAAiB,uBAAuB,uBAAuB,EAAE,gBAAgB,sBAAsB,uBAAuB,EAAE,8DAA8D,uBAAuB,eAAe,qBAAqB,gBAAgB,iBAAiB,sBAAsB,EAAE,uBAAuB,oBAAoB,sBAAsB,gBAAgB,8BAA8B,uBAAuB,sBAAsB,8BAA8B,sCAAsC,iBAAiB,mBAAmB,wBAAwB,0DAA0D,sCAAsC,uBAAuB,cAAc,gBAAgB,EAAE,+BAA+B,kBAAkB,uBAAuB,cAAc,cAAc,gBAAgB,mCAAmC,wCAAwC,yCAAyC,kCAAkC,EAAE,8BAA8B,kBAAkB,uBAAuB,eAAe,cAAc,gBAAgB,uCAAuC,oCAAoC,yCAAyC,kCAAkC,EAAE;;AAEpyC;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;;;;;;ACXkD;AAIjB;AAIgB;AAIC;AAI9B;AAQpB,IAAa,kBAAkB;IAI9B,4BAAoB,gBAAkC,EAC7C,iBAAoC,EACpC,MAAqB;QAF9B,iBAeC;QAfmB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAC7C,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,WAAM,GAAN,MAAM,CAAe;QAE7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC;QAClD,2EAA2E;QAC3E,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7C,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,gBAAM;gBACjD,KAAI,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC;YAC/B,CAAC,EAAE,eAAK;gBACP,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;oBACd,KAAI,CAAC,WAAW,EAAE,CAAC;gBACvB,CAAC;YACX,CAAC,CAAC,CAAC;QACJ,CAAC;IACF,CAAC;IAED,qCAAQ,GAAR;QACC,IAAI,CAAC,IAAI,EAAE,CAAC;IACX,CAAC;IAED;;OAEC;IACD,iCAAI,GAAJ;QAAA,iBASC;QARA,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,gBAAM;YAChD,KAAI,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAC/B,CAAC,EAAE,eAAK;YACP,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;gBACjB,KAAI,CAAC,WAAW,EAAE,CAAC;YACvB,CAAC;QACR,CAAC,CAAC,CAAC;IACF,CAAC;IAED;;OAEC;IACD,mCAAM,GAAN,UAAO,SAAS;QAEjB,IAAI,IAAI,GAAG;YACV,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE;YACtB,YAAY,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC;YAC5B,WAAW,EAAE,EAAE;SACf;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;IACnC,CAAC;IAED;;OAEC;IACD,qCAAQ,GAAR,UAAS,SAAS;QACjB,IAAI,IAAI,GAAG;YACZ,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE;YACtB,YAAY,EAAE,EAAE;YAChB,WAAW,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC;SAC3B;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;IAElC,CAAC;IAED,mCAAM,GAAN,UAAO,IAAI,EAAE,MAAM,EAAE,SAAS;QAA9B,iBAeC;QAdA,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,gBAAM;YAC9D,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;gBACnB,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBAExC,KAAI,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;gBAC/D,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC;YACnD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;YACzC,CAAC;QACF,CAAC,EAAE,eAAK;YACP,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;gBACd,KAAI,CAAC,WAAW,EAAE,CAAC;YACvB,CAAC;QACX,CAAC,CAAC;IACD,CAAC;IAED;;OAEC;IACD,4CAAe,GAAf,UAAgB,WAAW;QAC1B,EAAE,EAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAC;YAC3C,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QACD,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;QAC5C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC5C,EAAE,EAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,CAAC,EAAC;gBACpC,MAAM,CAAC,IAAI,CAAC;YACb,CAAC;QACF,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACd,CAAC;IAED;;OAEC;IACH,wCAAW,GAAX;QACC,YAAY,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;QACxC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IAC1B,CAAC;IAEF,yBAAC;AAAD,CAAC;AA1GY,kBAAkB;IAN9B,+EAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,iGAAyC;QACzC,iGAAyC;QACzC,UAAU,EAAE,CAAC,mGAAgB,EAAE,CAAC;KACjC,CAAC;yDAKqC,4FAAgB,oBAAhB,4FAAgB,sDAC1B,8FAAiB,oBAAjB,8FAAiB,sDAC5B,iEAAa,oBAAb,iEAAa;GANlB,kBAAkB,CA0G9B;AA1G8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBU;AACM;AAEY;AACS;AAClB;AACR;AAEwB;AACN;AAEP;AACC;AAgBtD,IAAa,eAAe;IAA5B;IAA+B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAnB,eAAe;IAd3B,8EAAQ,CAAC;QACN,OAAO,EAAE;YACL,6DAAY;YACZ,yFAAsB;YACtB,iEAAgB;YAChB,mEAAW;YACX,2EAAmB;YACnB,gEAAY,CAAC,OAAO,EAAE;YACtB,6EAAS,CAAC,OAAO,EAAE;YACnB,2EAAY;YACZ,4EAAe;SAClB;QACD,YAAY,EAAE,CAAC,gFAAkB,CAAC;KACrC,CAAC;GACW,eAAe,CAAI;AAAJ","file":"5.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PromotionComponent } from './promotion.component';\n\nconst routes: Routes = [\n    { path: '', component: PromotionComponent }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class PromotionRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/saciafome-restaurante/src/app/layout/promotion/promotion-routing.module.ts","module.exports = \"<div [@routerTransition]>\\n    <app-page-header [heading]=\\\"'Promoções'\\\" [icon]=\\\"'fa-edit'\\\"></app-page-header>\\n</div>  \\n\\n<div class=\\\"row\\\" >\\n\\t<div class=\\\"col-lg-6\\\" *ngFor=\\\"let item of promotions\\\">\\n\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t<div variant=\\\"transparent\\\" class=\\\"open-ribbon\\\" *ngIf=\\\"isParticipating(item.id)\\\"><span>Participando</span></div>\\n\\t\\t  <img class=\\\"card-img-top\\\" src=\\\"{{item.img}}\\\" >\\n\\t\\t  <br/>\\n\\t\\t  <div class=\\\"card-body\\\">\\n\\t\\t    <h5 class=\\\"card-title\\\">Promoção: {{item.name}}</h5>\\n\\t\\t    <p class=\\\"card-text\\\">Descrição: {{item.description_restaurant}}</p>\\n\\t\\t    <button type=\\\"submit\\\" class=\\\"btn btn-danger button-no\\\" *ngIf=\\\"isParticipating(item.id)\\\" (click)=\\\"noAccept(item)\\\" >{{ 'i.dont.want.more' | translate }}!</button>\\n\\t\\t    <button type=\\\"submit\\\" class=\\\"btn btn-primary button-yes\\\" *ngIf=\\\"!isParticipating(item.id)\\\" (click)=\\\"accept(item)\\\" >{{ 'i.want' | translate }}!</button>\\n\\t\\t  </div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/victor/Food/Meu Projeto/saciafome-restaurante/src/app/layout/promotion/promotion.component.html\n// module id = ../../../../../src/app/layout/promotion/promotion.component.html\n// module chunks = 5","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".button-yes {\\n  float: right;\\n  margin-right: 10px;\\n  margin-bottom: 8px; }\\n\\n.button-no {\\n  margin-left: 10px;\\n  margin-bottom: 8px; }\\n\\n/* RIBBON BADGES */\\n/* OPEN RESTAURANT */\\n.open-ribbon {\\n  position: absolute;\\n  z-index: 1;\\n  overflow: hidden;\\n  width: 75px;\\n  height: 75px;\\n  text-align: right; }\\n\\n.open-ribbon span {\\n  font-size: 10px;\\n  font-weight: bold;\\n  color: #FFF;\\n  text-transform: uppercase;\\n  text-align: center;\\n  line-height: 20px;\\n  transform: rotate(-45deg);\\n  -webkit-transform: rotate(-45deg);\\n  width: 100px;\\n  display: block;\\n  background: #79A70A;\\n  background: linear-gradient(#62C95A 0%, #228B22 100%);\\n  box-shadow: 0 3px 10px -5px black;\\n  position: absolute;\\n  top: 19px;\\n  left: -21px; }\\n\\n.open-ribbon span::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  left: 0px;\\n  top: 100%;\\n  z-index: -1;\\n  border-left: 3px solid #228B22;\\n  border-right: 3px solid transparent;\\n  border-bottom: 3px solid transparent;\\n  border-top: 3px solid #228B22; }\\n\\n.open-ribbon span::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  right: 0px;\\n  top: 100%;\\n  z-index: -1;\\n  border-left: 3px solid transparent;\\n  border-right: 3px solid #228B22;\\n  border-bottom: 3px solid transparent;\\n  border-top: 3px solid #228B22; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/victor/Food/Meu Projeto/saciafome-restaurante/src/app/layout/promotion/promotion.component.scss\n// module id = ../../../../../src/app/layout/promotion/promotion.component.scss\n// module chunks = 5","import { Component, OnInit } from '@angular/core';\n\nimport {\n\trouterTransition\n} from '../../router.animations';\n\nimport {\n  PromotionService\n} from '../../shared/services/promotion.service';\n\nimport {\n\tRestaurantService\n} from '../../shared/services/restaurant.service';\n\nimport {\n\tToastrService\n} from 'ngx-toastr';\n\n@Component({\n  selector: 'app-promotion',\n  templateUrl: './promotion.component.html',\n  styleUrls: ['./promotion.component.scss'],\n  animations: [routerTransition()]\n})\nexport class PromotionComponent implements OnInit {\n\n\tpromotions:any;\n\trestaurant: any;\n\tconstructor(private promotionService: PromotionService,\n\t\tprivate restaurantService: RestaurantService,\n\t\tprivate toastr: ToastrService) { \n\n\t\tthis.restaurant = this.restaurantService.getAll();\n\t\t// Caso não esteja populado os dados do restaurante busca no banco de dados\n\t\tif (!this.restaurant || !this.restaurant.id) {\n\t\t\tthis.restaurantService.populate().subscribe(result => {\n\t\t\t\tthis.restaurant = result.data;\n\t\t\t}, error => {\n\t\t\t\tif (error.status === 401) {\n\t                this.onLoggedout();\n\t            }\n\t\t\t});\n\t\t}\n\t}\n\n\tngOnInit() {\n\t\tthis.find();\n  \t}\n\n  \t/* \n\t * Busca as promoções cadastradas\n\t */\n  \tfind() {\n  \t\tthis.promotions = [];\n\t\tthis.promotionService.populate().subscribe(result => {\n\t\t\tthis.promotions = result.data;\n\t\t}, error => {\n\t\t\tif (error.status === 401) {\n\t            this.onLoggedout();\n\t        }\n\t\t});\n  \t}\n\n  \t/* \n\t * Participar da promoção\n\t */\n  \taccept(promotion) {\n\n\t\tvar json = {\n\t\t\tid: this.restaurant.id,\n\t\t\taddPromotion: [promotion.id],\n\t\t\trmPromotion: []\n\t\t}\n\t\tthis.update(json, \"add\", promotion);\n  \t}\n\n  \t/* \n\t * Sair da promoção\n\t */\n  \tnoAccept(promotion) {\n  \t\tvar json = {\n\t\t\tid: this.restaurant.id,\n\t\t\taddPromotion: [],\n\t\t\trmPromotion: [promotion.id]\n\t\t}\n\t\tthis.update(json, \"rm\", promotion);\n\n  \t}\n\n  \tupdate(json, option, promotion) {\n  \t\tthis.promotionService.addOrRmPromotion(json).subscribe(result => {\n\t\t\tif (result.status) {\n\t\t\t\tthis.toastr.success(result.message, '');\n\n\t\t\t\tthis.restaurantService.addOrremovePromotion(promotion, option);\n\t\t\t\tthis.restaurant = this.restaurantService.getAll();\n\t\t\t} else {\n\t\t\t\tthis.toastr.warning(result.message, '');\n\t\t\t}\n\t\t}, error => {\n\t\t\tif (error.status === 401) {\n                this.onLoggedout();\n            }\n\t\t})\n  \t}\n\n  \t/* \n\t * Sair da promoção\n\t */\n  \tisParticipating(idPromotion) {\n  \t\tif(!this.restaurant || !this.restaurant.id){\n  \t\t\treturn false;\n  \t\t}\n  \t\tlet promotions = this.restaurant.Promotions;\n  \t\tfor (var i = 0; i < promotions.length; i++) {\n  \t\t\tif(promotions[i].id === idPromotion){\n  \t\t\t\treturn true;\n  \t\t\t}\n  \t\t}\n  \t\treturn false;\n  \t}\n\n  \t/* \n\t * Sair\n\t */\n\tonLoggedout() {\n\t\tlocalStorage.removeItem(\"isUserLogged\");\n\t\twindow.location.reload();\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/saciafome-restaurante/src/app/layout/promotion/promotion.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PromotionComponent } from './promotion.component';\nimport { PromotionRoutingModule } from './promotion-routing.module';\nimport { PageHeaderModule } from './../../shared';\nimport { ToastrModule } from 'ngx-toastr';\n\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from './../../shared/shared.module';\n\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PromotionRoutingModule,\n        PageHeaderModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ToastrModule.forRoot(),\n        NgbModule.forRoot(),\n        SharedModule,\n        TranslateModule,\n    ],\n    declarations: [PromotionComponent]\n})\nexport class PromotionModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/saciafome-restaurante/src/app/layout/promotion/promotion.module.ts"],"sourceRoot":"webpack:///"}