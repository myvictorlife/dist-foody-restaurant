{"version":3,"sources":["/home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/payment/payment-routing.module.ts","/home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/payment/payment.component.html","/home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/payment/payment.component.scss","/home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/payment/payment.component.ts","/home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/payment/payment.module.ts"],"names":[],"mappings":"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","file":"6.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PaymentComponent } from './payment.component';\n\nconst routes: Routes = [\n    { path: '', component: PaymentComponent }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class PaymentRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/payment/payment-routing.module.ts","module.exports = \"<div [@routerTransition]>\\n    <app-page-header [heading]=\\\"'Tipos de Pagamento'\\\" [icon]=\\\"'fa-edit'\\\"></app-page-header>\\n</div>\\n<form [formGroup]=\\\"updateDetailsForm\\\" *ngIf=\\\"payments && payments.length\\\">\\n    <div class=\\\"row\\\" formArrayName=\\\"allPayments\\\">\\n        \\n            <div class=\\\"card mb-3\\\">\\n                <div class=\\\"card-block table-responsive\\\">\\n                    <table class=\\\"table table-hover table-bordered\\\">\\n                        <thead>\\n                        <tr>\\n                            <th>#</th>\\n                            <th>Tipo</th>\\n                            <th>Cartao</th>\\n                            <th>Online</th>\\n                        </tr>\\n                        </thead>\\n                        <tbody>\\n                            <tr *ngFor=\\\"let payment of payments; let i = index\\\">\\n                                <td formGroupName=\\\"{{i}}\\\">\\n                                    <input type=\\\"checkbox\\\" formControlName=\\\"{{payment.id}}\\\">\\n                                </td>\\n                                <td>{{payment.name}}</td>\\n                                <td>{{payment.card}}</td>\\n                                <td>{{payment.online == 0 ? 'SIM' : 'NÂO'}}</td>\\n                            </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n            </div>\\n        \\n    </div>\\n</form>\\n\\n<button *ngIf=\\\"payments && payments.length\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"updatePayment()\\\" >{{ 'save' | translate }}</button>\\n\\n\\n<!-- <pre>{{updateDetailsForm.value | json}}</pre> -->\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/payment/payment.component.html\n// module id = ../../../../../src/app/layout/payment/payment.component.html\n// module chunks = 6","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/payment/payment.component.scss\n// module id = ../../../../../src/app/layout/payment/payment.component.scss\n// module chunks = 6","import {\n\tComponent,\n\tOnInit\n} from '@angular/core';\n\nimport {\n\trouterTransition\n} from '../../router.animations';\n\nimport {\n\tPaymentService\n} from '../../shared/services/payment.service';\n\nimport {\n\tRestaurantService\n} from '../../shared/services/restaurant.service';\n\nimport {\n\tFormArray,\n\tFormBuilder,\n\tFormControl,\n\tFormGroup\n} from \"@angular/forms\"\n\nimport {\n\tToastrService\n} from 'ngx-toastr';\n\n@Component({\n\tselector: 'app-payment',\n\ttemplateUrl: './payment.component.html',\n\tstyleUrls: ['./payment.component.scss'],\n\tanimations: [routerTransition()]\n})\nexport class PaymentComponent implements OnInit {\n\n\tupdateDetailsForm: FormGroup;\n\tpayments: any;\n\n\tconstructor(private paymentService: PaymentService,\n\t\tprivate restaurantService: RestaurantService,\n\t\tprivate toastr: ToastrService,\n\t\tprivate formBuilder: FormBuilder) {\n\t\tthis.payments = [];\n\n\t\tthis.restaurantService.populate().subscribe(result => {\n\t\t\tlet restaurant = result.data;\n\t\t\tthis.paymentService.populate().subscribe(result => {\n\t\t\t\tthis.payments = result.data\n\t\t\t\tthis.initForm(restaurant)\n\t\t\t})\n\t\t});\n\n\t}\n\n\tngOnInit() {\n\t\tthis.updateDetailsForm = this.formBuilder.group({\n\t\t\t'allPayments': []\n\t\t});\n\t}\n\n\tinitForm(restaurant) {\n\t\tlet allPayments: FormArray = new FormArray([]);\n\n\t\tfor (let i = 0; i < this.payments.length; i++) {\n\t\t\tlet fg = new FormGroup({});\n\t\t\tlet status = this.getRestaurantPayment(this.payments[i].id, restaurant);\n\t\t\tfg.addControl(this.payments[i].id, new FormControl(status))\n\t\t\tallPayments.push(fg)\n\t\t}\n\n\t\tthis.updateDetailsForm = this.formBuilder.group({\n\t\t\t'allPayments': allPayments\n\t\t})\n\t}\n\n\tgetRestaurantPayment(id, restaurant) {\n\t\tlet restaurantPayment = JSON.parse(restaurant.form_payment);\n\t\t\n\t\tfor (var k in restaurantPayment) {\n\t\t\tlet pay = restaurantPayment[k];\n\n\t\t\tif (pay.id === id) {\n\t\t\t\treturn pay.status;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Autaliza os tipos de pagamento que o restaurante aceita\n\tupdatePayment() {\n\t\tlet allPayments = this.updateDetailsForm.value.allPayments;\n\t\tfor(let i=0; i < allPayments.length; i++){\n\t\t\tlet pay = allPayments[i]\n\n\t\t\t// Value é o id inserido no formArrayName (fg.addControl)\n\t\t\tlet value = this.payments[i].id;\n\t\t\tthis.payments[i].status = pay[value] === null ? false : pay[value];\n\t\t}\n\t\tthis.paymentService.updatePayment(this.payments).subscribe(result => {\n\t\t\tif (result.status) {\n\t\t\t\tthis.toastr.success(result.message, '');\n\t\t\t} else {\n\t\t\t\tthis.toastr.warning(result.message, '');\n\t\t\t}\n\t\t})\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/payment/payment.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PaymentComponent } from './payment.component';\nimport { PaymentRoutingModule } from './payment-routing.module';\nimport { PageHeaderModule } from './../../shared';\nimport { ToastrModule } from 'ngx-toastr';\n\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from './../../shared/shared.module';\n\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PaymentRoutingModule,\n        PageHeaderModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ToastrModule.forRoot(),\n        NgbModule.forRoot(),\n        SharedModule,\n        TranslateModule,\n    ],\n    declarations: [PaymentComponent]\n})\nexport class PaymentModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/victor/Food/Meu Projeto/uaifome-restaurante/src/app/layout/payment/payment.module.ts"],"sourceRoot":"webpack:///"}